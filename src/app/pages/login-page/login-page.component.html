<div class="login-container">
  <h1>Login</h1>

  <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
    <input 
      type="email" 
      [(ngModel)]="email" 
      name="email" 
      placeholder="Email Address" 
      required 
      email
    />
    <input 
      type="password" 
      [(ngModel)]="password" 
      name="password" 
      placeholder="Password" 
      required
    />

    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <button type="submit" [disabled]="loginForm.invalid" class="email-button">
      Log In with Email
    </button>
  </form>

  <!-- ðŸ‘‡ MutÄƒm link-ul aici, Ã®n afara formularului -->
  <div style="margin-top: 10px;">
    <a (click)="showForgotModal = true" style="cursor: pointer; color: #007bff; text-decoration: underline;">
      Forgot password?
    </a>    
  </div>

  <h2 class="separator">Or</h2>

  <!-- âœ… Google login button rendered here -->
  <div id="g_id_signin" class="google-button-container"></div>
  <div *ngIf="showForgotModal" class="modal-overlay">
    <div class="modal-box">
      <h3>Reset Password</h3>
  
      <!-- âœ… AfiÈ™eazÄƒ formularul DOAR dacÄƒ NU s-a trimis cu succes -->
      <ng-container *ngIf="!forgotSuccessMessage; else successTemplate">
        <input
          type="email"
          [(ngModel)]="forgotEmail"
          placeholder="Enter your email"
          required
        />
  
        <div *ngIf="forgotErrorMessage" class="error-message">{{ forgotErrorMessage }}</div>
  
        <div class="modal-buttons">
          <button (click)="sendResetLink()">Send Reset Link</button>
          <button (click)="showForgotModal = false">Cancel</button>
        </div>
      </ng-container>
  
      <!-- âœ… Asta apare DOAR dupÄƒ ce trimitem cu succes -->
      <ng-template #successTemplate>
        <div class="success-message">{{ forgotSuccessMessage }}</div>
        <div class="modal-buttons" style="justify-content: center;">
          <button (click)="showForgotModal = false">Close</button>
        </div>
      </ng-template>
    </div>
  </div>
  
